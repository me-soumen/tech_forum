<!DOCTYPE html>
<html>
<head>
	<title>Tic Tac Toe</title>
	<!--<script type="text/javascript" src="jquery-3.2.1.js"></script>-->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script type="text/javascript">
		var symbol = 'X';
		var counter = 0;
		$(document).ready(function(){
			$("td").click(function(){
				if($(this).html() == '') {
					$(this).html(symbol);
					counter++;
					if(symbol == 'X')
						symbol = 'O';
					else
						symbol = 'X';
					if(checkWin(this.id, $(this).html())) {
						var winner = $(this).html();
						if(winner == 'X')
							$("#X").val(parseInt($("#X").val())+1);
						if(winner == 'O')
							$("#O").val(parseInt($("#O").val())+1);
						setTimeout(function(){alert("Winner : "+winner);}, 10);
						setTimeout(function(){reset();}, 500);
					}
					else if(counter == 9) {
						$("#X").val(parseInt($("#X").val())+1);
						$("#O").val(parseInt($("#O").val())+1);
						setTimeout(function(){alert("Game Draw.");}, 10);
						setTimeout(function(){reset();}, 500);
					}
				}
			});
		});
		function reset() {
			$(".boardCell").html('');
			counter = 0;
		}
		function checkWin(cellId, symb) {
			winPattern = symb+symb+symb;
			patternDiagonal = "";
			//Horizontal Combination..
			if (cellId == 'zero' || cellId == 'one' || cellId == 'two')
				patternHorizontal = $("#zero").html()+$("#one").html()+$("#two").html();
			if (cellId == 'three' || cellId == 'four' || cellId == 'five')
				patternHorizontal = $("#three").html()+$("#four").html()+$("#five").html();
			if (cellId == 'six' || cellId == 'seven' || cellId == 'eight')
				patternHorizontal = $("#six").html()+$("#seven").html()+$("#eight").html();
			
			//Vertical Combination..
			if (cellId == 'zero' || cellId == 'three' || cellId == 'six')
				patternVertical = $("#zero").html()+$("#three").html()+$("#six").html();
			if (cellId == 'one' || cellId == 'four' || cellId == 'seven')
				patternVertical = $("#one").html()+$("#four").html()+$("#seven").html();
			if (cellId == 'two' || cellId == 'five' || cellId == 'eight')
				patternVertical = $("#two").html()+$("#five").html()+$("#eight").html();
			
			//Diagonal Combination..
			if (cellId == 'zero' || cellId == 'four' || cellId == 'eight')
				patternDiagonal = $("#zero").html()+$("#four").html()+$("#eight").html();
			if (cellId == 'two' || cellId == 'four' || cellId == 'six')
				patternDiagonal = $("#two").html()+$("#four").html()+$("#six").html();

			//Decide Winner..
			if(winPattern == patternHorizontal || winPattern == patternVertical || winPattern == patternDiagonal)
				return true;
		}
	</script>
	<style type="text/css">
		.boardCell{
			height : 100px;
			width : 100px;
			text-align : center;
			font-size : 50px;
			cursor: pointer;
		}
	</style>
</head>
<body>
	<div align="center"><h1>Tic-Tac-Toe</h1></div>
	<!-- Board -->
	<table border=1 align="center">
		<tr>
			<td id="zero" class="boardCell"></td>
			<td id="one" class="boardCell"></td>
			<td id="two" class="boardCell"></td>
		</tr>
		<tr>
			<td id="three" class="boardCell"></td>
			<td id="four" class="boardCell"></td>
			<td id="five" class="boardCell"></td>
		</tr>
		<tr>
			<td id="six" class="boardCell"></td>
			<td id="seven" class="boardCell"></td>
			<td id="eight" class="boardCell"></td>
		</tr>
	</table>
	<br><br>
	<!-- Point Table -->
	<table style="font-size: 20px;border: 2px solid;" align="center">
		<tr>
			<td colspan="2" align="center" style="font-size: 20px;">Point Table</th>
		</tr>
		<tr>
			<td>X : </td>
			<td><input type="text" name="X" id="X" value="0" size="6" style="border: none;font-size:20px;text-align: center;" readonly></td>
		</tr>
		<tr>
			<td>O : </td>
			<td><input type="text" name="O" id="O" value="0" size="6" style="border: none;font-size:20px;text-align: center;" readonly></td>
		</tr>
	</table>
</body>
</html>